{"ast":null,"code":"import _asyncToGenerator from \"D:/ITUniversity/S7-M1/Web/Projet/Github/Front_m1p11mean-Vanya-Liantsoa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { baseurl } from './routeconfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class EmployeService {\n  constructor(http) {\n    this.http = http;\n  }\n  rdvEmploye() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const token = window.localStorage.getItem('tokenuser');\n      try {\n        const result = yield _this.http.get(baseurl + '/employe/rdv?token=' + token).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  dailyTasks(date = undefined) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      c;\n      try {\n        const result = yield _this2.http.get(baseurl + '/employe/tasks?token=' + token + \"&date=\" + date).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  doneDailyTasks(date = undefined) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const token = window.localStorage.getItem('tokenuser');\n      try {\n        const result = yield _this3.http.get(baseurl + '/employe/tasks/done?token=' + token + \"&date=\" + date).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  addTaskDone(_id) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const result = yield _this4.http.get(baseurl + '/employe/tasks/setdone?_id=' + _id).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  rollBackTaskDone(_id) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const result = yield _this5.http.get(baseurl + '/employe/tasks/rollbackdone?_id=' + _id).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  filterrdvEmploye(month = undefined) {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      const token = window.localStorage.getItem('tokenuser');\n      try {\n        if (month == 0) {\n          const result = yield _this6.http.get(baseurl + '/employe/rdv?token=' + token).toPromise();\n          if (result !== undefined) {\n            return result;\n          }\n        } else {\n          const result = yield _this6.http.get(baseurl + '/employe/rdv?token=' + token + '&month=' + month).toPromise();\n          if (result !== undefined) {\n            return result;\n          }\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n      return [];\n    })();\n  }\n  static #_ = this.ɵfac = function EmployeService_Factory(t) {\n    return new (t || EmployeService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: EmployeService,\n    factory: EmployeService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["baseurl","EmployeService","constructor","http","rdvEmploye","_this","_asyncToGenerator","token","window","localStorage","getItem","result","get","toPromise","undefined","Error","error","console","dailyTasks","date","_this2","c","doneDailyTasks","_this3","addTaskDone","_id","_this4","rollBackTaskDone","_this5","filterrdvEmploye","month","_this6","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["D:\\ITUniversity\\S7-M1\\Web\\Projet\\Github\\Front_m1p11mean-Vanya-Liantsoa\\src\\app\\services\\employe.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport {baseurl} from './routeconfig';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EmployeService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  async rdvEmploye(): Promise<any[]>  {\r\n    const token = window.localStorage.getItem('tokenuser');\r\n    try {\r\n        const result = await this.http.get<any[]>(baseurl + '/employe/rdv?token='+token).toPromise();\r\n        if (result !== undefined) {\r\n            return result;\r\n        } else {\r\n            throw new Error('Donnée non définie');\r\n        }\r\n      } catch (error) {\r\n          console.error('Erreur:', error);\r\n          throw error;\r\n      }\r\n  }\r\n\r\n  async dailyTasks(date: string | undefined = undefined): Promise<any[]>  {\r\n    c\r\n    try {\r\n      const result = await this.http.get<any[]>(baseurl + '/employe/tasks?token='+token+\"&date=\"+date).toPromise();\r\n      if (result !== undefined) {\r\n            return result;\r\n        } else {\r\n            throw new Error('Donnée non définie');\r\n        }\r\n      } catch (error) {\r\n          console.error('Erreur:', error);\r\n          throw error;\r\n      }\r\n  }\r\n\r\n  async doneDailyTasks(date: string | undefined = undefined): Promise<any[]>  {\r\n    const token = window.localStorage.getItem('tokenuser');\r\n    try {\r\n      const result = await this.http.get<any[]>(baseurl + '/employe/tasks/done?token='+token+\"&date=\"+date).toPromise();\r\n      if (result !== undefined) {\r\n            return result;\r\n        } else {\r\n            throw new Error('Donnée non définie');\r\n        }\r\n      } catch (error) {\r\n          console.error('Erreur:', error);\r\n          throw error;\r\n      }\r\n  }\r\n\r\n  async addTaskDone(_id: string): Promise<any[]>  {\r\n    try {\r\n      const result = await this.http.get<any[]>(baseurl + '/employe/tasks/setdone?_id='+_id).toPromise();\r\n      if (result !== undefined) {\r\n            return result;\r\n        } else {\r\n            throw new Error('Donnée non définie');\r\n        }\r\n      } catch (error) {\r\n          console.error('Erreur:', error);\r\n          throw error;\r\n      }\r\n  }\r\n\r\n  async rollBackTaskDone(_id: string): Promise<any[]>  {\r\n    try {\r\n      const result = await this.http.get<any[]>(baseurl + '/employe/tasks/rollbackdone?_id='+_id).toPromise();\r\n      if (result !== undefined) {\r\n            return result;\r\n        } else {\r\n            throw new Error('Donnée non définie');\r\n        }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n  }\r\n\r\n  async filterrdvEmploye(month: number | undefined = undefined): Promise<any[]>  {\r\n    const token = window.localStorage.getItem('tokenuser');\r\n    try {\r\n      if( month == 0 ) {\r\n        const result = await this.http.get<any[]>(baseurl + '/employe/rdv?token='+token).toPromise();\r\n        if (result !== undefined) {\r\n          return result;\r\n        }\r\n      } else{\r\n        const result = await this.http.get<any[]>(baseurl + '/employe/rdv?token='+token+'&month='+month).toPromise();\r\n        if (result !== undefined) {\r\n          return result;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur:', error);\r\n      throw error;\r\n    }\r\n    return [];\r\n  }\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}