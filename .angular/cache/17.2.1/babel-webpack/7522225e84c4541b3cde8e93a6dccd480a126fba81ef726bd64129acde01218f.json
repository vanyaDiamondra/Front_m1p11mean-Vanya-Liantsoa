{"ast":null,"code":"import _asyncToGenerator from \"D:/documents/M1/Web Avanc\\xE9e/mean_beautysalon/Front_m1p11mean-Vanya-Liantsoa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { baseurl } from './routeconfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ServicesService {\n  constructor(http) {\n    this.http = http;\n  }\n  getServices() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      return _this.http.get(baseurl + '/service').toPromise();\n    })();\n  }\n  getServicesCategories() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      return _this2.http.get(baseurl + '/service/categories').toPromise();\n    })();\n  }\n  searchServices(nom) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const result = yield _this3.http.get(baseurl + '/service/search?categorieID=' + categorieID).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n      return _this3.http.get(baseurl + '/service/search?nom=' + nom).toPromise();\n    })();\n  }\n  getServicesByID(id) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const token = window.localStorage.getItem('tokenuser');\n      try {\n        const result = yield _this4.http.get(baseurl + '/service/client?token=' + token + '&_id=' + id).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  searchByCategories(categorieID) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const result = yield _this5.http.get(baseurl + '/service/search?categorieID=' + categorieID).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  getPrefServices() {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      const token = window.localStorage.getItem('tokenuser');\n      try {\n        const result = yield _this6.http.get(baseurl + '/service/prefService?token=' + token).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  static #_ = this.ɵfac = function ServicesService_Factory(t) {\n    return new (t || ServicesService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ServicesService,\n    factory: ServicesService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["baseurl","ServicesService","constructor","http","getServices","_this","_asyncToGenerator","get","toPromise","getServicesCategories","_this2","searchServices","nom","_this3","result","categorieID","undefined","Error","error","console","getServicesByID","id","_this4","token","window","localStorage","getItem","searchByCategories","_this5","getPrefServices","_this6","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["D:\\documents\\M1\\Web Avancée\\mean_beautysalon\\Front_m1p11mean-Vanya-Liantsoa\\src\\app\\services\\services.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport {baseurl} from './routeconfig';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\n\r\nexport class ServicesService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  async getServices(): Promise<any[]> {\r\n    return this.http.get<any[]>(baseurl + '/service').toPromise();\r\n  }\r\n\r\n  async getServicesCategories(): Promise<any[]> {\r\n    return this.http.get<any[]>(baseurl + '/service/categories').toPromise();\r\n  }\r\n\r\n  async searchServices(nom: String): Promise<any[]> {\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/search?categorieID='+categorieID).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n    return this.http.get<any[]>(baseurl + '/service/search?nom='+nom).toPromise();\r\n  }\r\n\r\n  async getServicesByID(id: string | undefined | null): Promise<any[]> {\r\n    const token = window.localStorage.getItem('tokenuser');\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/client?token='+token+'&_id='+id).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n  }\r\n\r\n  async searchByCategories(categorieID: String): Promise<any[]> {\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/search?categorieID='+categorieID).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n  }\r\n\r\n  async getPrefServices():Promise<any[]> {\r\n    const token = window.localStorage.getItem('tokenuser');\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/prefService?token='+token).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}