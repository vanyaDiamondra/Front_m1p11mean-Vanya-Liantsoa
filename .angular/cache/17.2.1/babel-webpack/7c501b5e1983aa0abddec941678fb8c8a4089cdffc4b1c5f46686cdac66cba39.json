{"ast":null,"code":"import _asyncToGenerator from \"D:/documents/M1/Web Avanc\\xE9e/mean_beautysalon/Front_m1p11mean-Vanya-Liantsoa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { baseurl } from './routeconfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ServicesService {\n  constructor(http) {\n    this.http = http;\n  }\n  getServices() {\n    return this.http.get(baseurl + '/service').toPromise();\n  }\n  getServicesCategories() {\n    return this.http.get(baseurl + '/service/categories').toPromise();\n  }\n  searchServices(nom) {\n    return this.http.get(baseurl + '/service/search?nom=' + nom).toPromise();\n  }\n  getServicesByID(id) {\n    const token = window.localStorage.getItem('tokenuser');\n    return this.http.get(baseurl + '/service/client?token=' + token + '&_id=' + id).toPromise();\n  }\n  searchByCategories(categorieID) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const result = yield _this.http.get(baseurl + '/service/prefService?token=' + token).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n      return _this.http.get(baseurl + '/service/search?categorieID=' + categorieID).toPromise();\n    })();\n  }\n  getPrefServices() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const token = window.localStorage.getItem('tokenuser');\n      try {\n        const result = yield _this2.http.get(baseurl + '/service/prefService?token=' + token).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  static #_ = this.ɵfac = function ServicesService_Factory(t) {\n    return new (t || ServicesService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ServicesService,\n    factory: ServicesService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["baseurl","ServicesService","constructor","http","getServices","get","toPromise","getServicesCategories","searchServices","nom","getServicesByID","id","token","window","localStorage","getItem","searchByCategories","categorieID","_this","_asyncToGenerator","result","undefined","Error","error","console","getPrefServices","_this2","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["D:\\documents\\M1\\Web Avancée\\mean_beautysalon\\Front_m1p11mean-Vanya-Liantsoa\\src\\app\\services\\services.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport {baseurl} from './routeconfig';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\n\r\nexport class ServicesService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getServices(): Promise<any[]> {\r\n    return this.http.get<any[]>(baseurl + '/service').toPromise();\r\n  }\r\n\r\n  getServicesCategories(): Promise<any[]> {\r\n    return this.http.get<any[]>(baseurl + '/service/categories').toPromise();\r\n  }\r\n\r\n  searchServices(nom: String): Promise<any[]> {\r\n    return this.http.get<any[]>(baseurl + '/service/search?nom='+nom).toPromise();\r\n  }\r\n\r\n  getServicesByID(id: string | undefined | null): Promise<any[]> {\r\n    const token = window.localStorage.getItem('tokenuser');\r\n    return this.http.get<any[]>(baseurl + '/service/client?token='+token+'&_id='+id).toPromise();\r\n  }\r\n\r\n  async searchByCategories(categorieID: String): Promise<any[]> {\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/prefService?token='+token).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n    return this.http.get<any[]>(baseurl + '/service/search?categorieID='+categorieID).toPromise();\r\n  }\r\n\r\n  async getPrefServices():Promise<any[]> {\r\n    const token = window.localStorage.getItem('tokenuser');\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/prefService?token='+token).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n"],"mappings":";AAGA,SAAQA,OAAO,QAAO,eAAe;;;AAQrC,OAAM,MAAOC,eAAe;EAE1BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;EAAgB;EAExCC,WAAWA,CAAA;IACT,OAAO,IAAI,CAACD,IAAI,CAACE,GAAG,CAAQL,OAAO,GAAG,UAAU,CAAC,CAACM,SAAS,EAAE;EAC/D;EAEAC,qBAAqBA,CAAA;IACnB,OAAO,IAAI,CAACJ,IAAI,CAACE,GAAG,CAAQL,OAAO,GAAG,qBAAqB,CAAC,CAACM,SAAS,EAAE;EAC1E;EAEAE,cAAcA,CAACC,GAAW;IACxB,OAAO,IAAI,CAACN,IAAI,CAACE,GAAG,CAAQL,OAAO,GAAG,sBAAsB,GAACS,GAAG,CAAC,CAACH,SAAS,EAAE;EAC/E;EAEAI,eAAeA,CAACC,EAA6B;IAC3C,MAAMC,KAAK,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IACtD,OAAO,IAAI,CAACZ,IAAI,CAACE,GAAG,CAAQL,OAAO,GAAG,wBAAwB,GAACY,KAAK,GAAC,OAAO,GAACD,EAAE,CAAC,CAACL,SAAS,EAAE;EAC9F;EAEMU,kBAAkBA,CAACC,WAAmB;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MAC1C,IAAI;QACF,MAAMC,MAAM,SAASF,KAAI,CAACf,IAAI,CAACE,GAAG,CAAML,OAAO,GAAG,6BAA6B,GAACY,KAAK,CAAC,CAACN,SAAS,EAAE;QAClG,IAAIc,MAAM,KAAKC,SAAS,EAAE;UACtB,OAAOD,MAAM;QACjB,CAAC,MAAM;UACH,MAAM,IAAIE,KAAK,CAAC,oBAAoB,CAAC;QACzC;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/B,MAAMA,KAAK;MACf;MACA,OAAOL,KAAI,CAACf,IAAI,CAACE,GAAG,CAAQL,OAAO,GAAG,8BAA8B,GAACiB,WAAW,CAAC,CAACX,SAAS,EAAE;IAAC;EAChG;EAEMmB,eAAeA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAP,iBAAA;MACnB,MAAMP,KAAK,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;MACtD,IAAI;QACF,MAAMK,MAAM,SAASM,MAAI,CAACvB,IAAI,CAACE,GAAG,CAAML,OAAO,GAAG,6BAA6B,GAACY,KAAK,CAAC,CAACN,SAAS,EAAE;QAClG,IAAIc,MAAM,KAAKC,SAAS,EAAE;UACtB,OAAOD,MAAM;QACjB,CAAC,MAAM;UACH,MAAM,IAAIE,KAAK,CAAC,oBAAoB,CAAC;QACzC;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/B,MAAMA,KAAK;MACf;IAAC;EACH;EAAC,QAAAI,CAAA,G;qBAjDU1B,eAAe,EAAA2B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAf/B,eAAe;IAAAgC,OAAA,EAAfhC,eAAe,CAAAiC,IAAA;IAAAC,UAAA,EAJd;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}