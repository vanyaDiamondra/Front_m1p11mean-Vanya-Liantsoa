{"ast":null,"code":"import _asyncToGenerator from \"D:/documents/M1/Web Avanc\\xE9e/mean_beautysalon/Front_m1p11mean-Vanya-Liantsoa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { baseurl } from './routeconfig';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ServicesService {\n  constructor(http) {\n    this.http = http;\n  }\n  getServices() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const result = yield _this.http.get(baseurl + '/service/search?nom=' + nom).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n      return _this.http.get(baseurl + '/service').toPromise();\n    })();\n  }\n  getServicesCategories() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const result = yield _this2.http.get(baseurl + '/service/categories').toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n      return _this2.http.get(baseurl + '/service/categories').toPromise();\n    })();\n  }\n  searchServices(nom) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const result = yield _this3.http.get(baseurl + '/service/search?nom=' + nom).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  getServicesByID(id) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const token = window.localStorage.getItem('tokenuser');\n      try {\n        const result = yield _this4.http.get(baseurl + '/service/client?token=' + token + '&_id=' + id).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  searchByCategories(categorieID) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const result = yield _this5.http.get(baseurl + '/service/search?categorieID=' + categorieID).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  getPrefServices() {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      const token = window.localStorage.getItem('tokenuser');\n      try {\n        const result = yield _this6.http.get(baseurl + '/service/prefService?token=' + token).toPromise();\n        if (result !== undefined) {\n          return result;\n        } else {\n          throw new Error('Donnée non définie');\n        }\n      } catch (error) {\n        console.error('Erreur:', error);\n        throw error;\n      }\n    })();\n  }\n  static #_ = this.ɵfac = function ServicesService_Factory(t) {\n    return new (t || ServicesService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ServicesService,\n    factory: ServicesService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["baseurl","ServicesService","constructor","http","getServices","_this","_asyncToGenerator","result","get","nom","toPromise","undefined","Error","error","console","getServicesCategories","_this2","searchServices","_this3","getServicesByID","id","_this4","token","window","localStorage","getItem","searchByCategories","categorieID","_this5","getPrefServices","_this6","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["D:\\documents\\M1\\Web Avancée\\mean_beautysalon\\Front_m1p11mean-Vanya-Liantsoa\\src\\app\\services\\services.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport {baseurl} from './routeconfig';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\n\r\nexport class ServicesService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  async getServices(): Promise<any[]> {\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/search?nom='+nom).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n    return this.http.get<any[]>(baseurl + '/service').toPromise();\r\n  }\r\n\r\n  async getServicesCategories(): Promise<any[]> {\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/categories').toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n    return this.http.get<any[]>(baseurl + '/service/categories').toPromise();\r\n  }\r\n\r\n  async searchServices(nom: String): Promise<any[]> {\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/search?nom='+nom).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n  }\r\n\r\n  async getServicesByID(id: string | undefined | null): Promise<any[]> {\r\n    const token = window.localStorage.getItem('tokenuser');\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/client?token='+token+'&_id='+id).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n  }\r\n\r\n  async searchByCategories(categorieID: String): Promise<any[]> {\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/search?categorieID='+categorieID).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n  }\r\n\r\n  async getPrefServices():Promise<any[]> {\r\n    const token = window.localStorage.getItem('tokenuser');\r\n    try {\r\n      const result = await this.http.get<any>(baseurl + '/service/prefService?token='+token).toPromise();\r\n      if (result !== undefined) {\r\n          return result;\r\n      } else {\r\n          throw new Error('Donnée non définie');\r\n      }\r\n    } catch (error) {\r\n        console.error('Erreur:', error);\r\n        throw error;\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}