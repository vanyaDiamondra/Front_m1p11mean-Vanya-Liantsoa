{"ast":null,"code":"import _asyncToGenerator from \"D:/documents/M1/Web Avanc\\xE9e/mean_beautysalon/Front_m1p11mean-Vanya-Liantsoa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/rdv.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../header/header.component\";\nimport * as i4 from \"../footer/footer.component\";\nexport class PaiementComponent {\n  constructor(rdvService, router) {\n    this.rdvService = rdvService;\n    this.router = router;\n  }\n  ngOnInit() {\n    const rdvData = window.localStorage.getItem(\"lastrdv\") + \"\";\n    this.rdv = JSON.parse(rdvData);\n  }\n  paiement() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.rdvService.paiementRdv({\n        rdv: _this.rdv\n      });\n      _this.router.navigate(['/rdv']);\n    })();\n  }\n  getDateFromString(dateObj) {\n    return dateObj.split('T')[0];\n  }\n  getTimeFromString(dateObj) {\n    return dateObj.split('T')[1].substring(0, 5);\n  }\n  getFormattedPrice(prix) {\n    const formattedPrice = prix.toLocaleString('fr-FR');\n    return formattedPrice.replace(/\\s/g, '.');\n  }\n  static #_ = this.ɵfac = function PaiementComponent_Factory(t) {\n    return new (t || PaiementComponent)(i0.ɵɵdirectiveInject(i1.RdvService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PaiementComponent,\n    selectors: [[\"app-paiement\"]],\n    decls: 43,\n    vars: 5,\n    consts: [[1, \"row\"], [1, \"col-xl-1\"], [\"data-right\", \"0%\", 1, \"img1\"], [\"src\", \"assets/img/shape/leaves_6.png\", \"alt\", \"About\"], [1, \"img1\"], [\"src\", \"assets/img/shape/flower_1_3.png\", \"alt\", \"About\"], [1, \"col-xl-7\"], [1, \"form-btn\", \"col-5\"], [1, \"th-btn\", \"fw-btn\", 3, \"click\"], [1, \"fa-solid\", \"fa-arrow-right\", \"ms-2\"], [1, \"col-xl-4\"], [\"src\", \"assets/img/payment.svg\", 2, \"width\", \"60%\", \"position\", \"relative\", \"top\", \"120px\"]],\n    template: function PaiementComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header\");\n        i0.ɵɵelementStart(1, \"div\")(2, \"div\", 0)(3, \"div\", 1)(4, \"div\", 2);\n        i0.ɵɵelement(5, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵelement(7, \"img\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 4);\n        i0.ɵɵelement(9, \"img\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵelementStart(12, \"h4\");\n        i0.ɵɵtext(13, \"Paiement \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"p\");\n        i0.ɵɵtext(15, \"Pour valider votre rendez-vous, proc\\u00E9dez au paiement de service en cliquant sur Payer.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"h5\");\n        i0.ɵɵtext(17, \"D\\u00E9tails \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"p\")(19, \"b\");\n        i0.ɵɵtext(20, \"Service\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"p\")(23, \"b\");\n        i0.ɵɵtext(24, \"Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"p\")(27, \"b\");\n        i0.ɵɵtext(28, \"Horaire\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"p\")(31, \"b\");\n        i0.ɵɵtext(32, \"Tarif\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(33);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 7)(35, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function PaiementComponent_Template_button_click_35_listener() {\n          return ctx.paiement();\n        });\n        i0.ɵɵtext(36, \"Payer\");\n        i0.ɵɵelement(37, \"i\", 9);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(38, \"div\", 10);\n        i0.ɵɵelement(39, \"img\", 11);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(40, \"br\")(41, \"br\")(42, \"app-footer\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(21);\n        i0.ɵɵtextInterpolate1(\" : \", ctx.rdv.service.nom, \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" : \", ctx.getDateFromString(ctx.rdv.heure_debut), \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate2(\" : \", ctx.getTimeFromString(ctx.rdv.heure_debut), \" - \", ctx.getTimeFromString(ctx.rdv.heure_fin), \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" : \", ctx.getFormattedPrice(ctx.rdv.service.prix), \" Ar\");\n      }\n    },\n    dependencies: [i3.HeaderComponent, i4.FooterComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["PaiementComponent","constructor","rdvService","router","ngOnInit","rdvData","window","localStorage","getItem","rdv","JSON","parse","paiement","_this","_asyncToGenerator","paiementRdv","navigate","getDateFromString","dateObj","split","getTimeFromString","substring","getFormattedPrice","prix","formattedPrice","toLocaleString","replace","_","i0","ɵɵdirectiveInject","i1","RdvService","i2","Router","_2","selectors","decls","vars","consts","template","PaiementComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵelementEnd","ɵɵtext","ɵɵlistener","PaiementComponent_Template_button_click_35_listener","ɵɵadvance","ɵɵtextInterpolate1","service","nom","heure_debut","ɵɵtextInterpolate2","heure_fin"],"sources":["D:\\documents\\M1\\Web Avancée\\mean_beautysalon\\Front_m1p11mean-Vanya-Liantsoa\\src\\app\\components\\paiement\\paiement.component.ts","D:\\documents\\M1\\Web Avancée\\mean_beautysalon\\Front_m1p11mean-Vanya-Liantsoa\\src\\app\\components\\paiement\\paiement.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { RdvService } from 'src/app/services/rdv.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-paiement',\r\n  templateUrl: './paiement.component.html',\r\n  styleUrls: ['./paiement.component.css']\r\n})\r\nexport class PaiementComponent implements OnInit {\r\n\r\n  rdv: any;\r\n\r\n  constructor(private rdvService: RdvService, private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    const rdvData = window.localStorage.getItem(\"lastrdv\")+\"\";\r\n    this.rdv = JSON.parse(rdvData);\r\n  }\r\n\r\n  async paiement() {\r\n    await this.rdvService.paiementRdv({rdv: this.rdv});\r\n    this.router.navigate(['/rdv']);\r\n  }\r\n\r\n  getDateFromString(dateObj: string){\r\n    return dateObj.split('T')[0];\r\n  }\r\n\r\n  getTimeFromString(dateObj: string){\r\n    return dateObj.split('T')[1].substring(0, 5);\r\n  }\r\n\r\n  getFormattedPrice(prix: number) {\r\n    const formattedPrice = prix.toLocaleString('fr-FR');\r\n    return formattedPrice.replace(/\\s/g, '.');\r\n  }\r\n\r\n}\r\n","<app-header></app-header>\r\n\r\n<div> \r\n    <div class=\"row\">\r\n        <div class=\"col-xl-1\">\r\n            <div class=\"img1\" data-right=\"0%\"><img src=\"assets/img/shape/leaves_6.png\"  alt=\"About\"></div>\r\n            <div class=\"img1\"><img src=\"assets/img/shape/flower_1_3.png\" alt=\"About\"></div>\r\n            <div class=\"img1\"><img src=\"assets/img/shape/leaves_6.png\" alt=\"About\"></div>\r\n        </div>\r\n        <div class=\"col-xl-7\">\r\n            <br>\r\n            <h4>Paiement </h4>\r\n            <p>Pour valider votre rendez-vous, procédez au paiement de service en cliquant sur Payer.</p>\r\n            <h5>Détails </h5>\r\n            <p><b>Service</b> : {{ rdv.service.nom }}</p>\r\n            <p><b>Date</b> : {{ getDateFromString(rdv.heure_debut) }}</p>\r\n            <p><b>Horaire</b> : {{getTimeFromString(rdv.heure_debut)}} - {{ getTimeFromString(rdv.heure_fin) }}</p>\r\n            <p><b>Tarif</b> : {{ getFormattedPrice(rdv.service.prix) }} Ar</p>\r\n            <div class=\"form-btn col-5\">\r\n                <button class=\"th-btn fw-btn\" (click) = \"paiement()\">Payer<i class=\"fa-solid fa-arrow-right ms-2\"></i>\r\n                </button>\r\n            </div>\r\n        \r\n        </div>\r\n        <div class=\"col-xl-4\">\r\n            <img src=\"assets/img/payment.svg\" style=\"width: 60%; position: relative; top: 120px;\">\r\n        </div>\r\n    </div>\r\n</div>\r\n<br><br>\r\n<app-footer></app-footer>\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}