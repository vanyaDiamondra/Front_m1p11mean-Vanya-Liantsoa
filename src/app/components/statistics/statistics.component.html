<div *ngIf="chargementEnCours">
    <app-loader></app-loader>
</div>

<div *ngIf="!chargementEnCours">
    <app-managersidebar></app-managersidebar>
        <div> 
            <div class="row">
                <div class="shape-mockup" data-top="0%" data-left="0%"><img src="assets/img/shape/flower_1_1.png" alt="shape">
                </div>
                <div class="shape-mockup d-none d-lg-block" data-bottom="0%" data-right="0%">
                    <img  src="assets/img/shape/flower_1_2.png" alt="shape">
                </div>

                <div class="col-xl-2"></div>
                <div class="col-xl-10" >
                    <div class="overflow-hidden">
                        <br>
                        <div class="row bloc">
                            <h5>Temps moyen de travail par employé</h5>
                            <div class="col-xl-8">
                                <div class="bloc">
                                    <table class="table">
                                        <tr>
                                            <th>Nom</th>
                                            <th>Prenom</th>
                                            <th>Moyenne </th>
                                        </tr>
                                        <tr *ngFor="let employe of tempsEmployeList">
                                            <td>{{ employe.employe.nom }}</td>
                                            <td>{{ employe.employe.prenom }}</td>
                                            <td>{{ formatNumber(employe.total) }} h</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-xl-6">
                                <h5>Nombre de réservation</h5>
                                <select name="" id="" class="filter-month" (change)="filterReservation($event)">
                                    <option *ngFor="let month of months" [value]="month.value">{{ month.label }}</option>
                                </select>
                                <canvas baseChart
                                    [datasets]="reservationList"
                                    [labels]="days"
                                    [options]="barOptions"
                                    [legend]="chartLegend"
                                    [type]="'bar'"
                                ></canvas>
                            </div>
                            <div class="col-xl-6">
                                <h5>Chiffres d'affaires</h5>
                                <select name="" id="" class="filter-month" (change)="filterCA($event)">
                                    <option *ngFor="let month of months" [value]="month.value">{{ month.label }}</option>
                                </select>

                                <canvas baseChart
                                [datasets]="chiffreAffaireList"
                                [labels]="days"
                                [options]="lineOptions"
                                [legend]="chartLegend"
                                [type]="'line'"
                            ></canvas>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-xl-3"></div>
                            <div class="col-xl-6">
                                <h5>Bénéfices par mois</h5>
                                <select name="" id="" class="filter-month">
                                    <option value="2024">2024</option>
                                </select>
                                <canvas baseChart
                                    [datasets]="beneficeList"
                                    [labels]="monthsLabels"
                                    [options]="lineOptions"
                                    [legend]="chartLegend"
                                    [type]="'line'"
                                ></canvas>
                            </div>
                            <div class="col-xl-3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div class="copyright-wrap">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-4">
                        <p class="copyright-text text-white">Rakotoarisoa Miaingo Diamondra Vanya </p>
                    </div>
                    <div class="col-lg-4">
                        <p class="copyright-text text-white">Rakotonirina Liantsoa</p>
                    </div>
                    <div class="col-lg-4">
                        <p class="copyright-text text-white">&copy; m1p11mean-Vanya-Liantsoa</p>
                    </div>
                </div>
            </div>
        </div>
</div>

